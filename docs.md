```

Transform academic plain text files into audio using AWS Polly.

Usage of polly:

Defaults:
  -bucket string
    	Output S3 bucket name (default "my-bucket")
  -dry-run
    	Print TTS text without uploading?
  -engine string
    	TTS engine (standard or neural) (default "neural")
  -format string
    	Output format (mp3, ogg_vorbis, or pcm) (default "mp3")
  -input string
    	Filename containing text to convert (default "input.txt")
  -prefix string
    	Output S3 bucket prefix (default "<filename>")
  -voice string
    	Voice to use for synthesis (Joanna, Salli, Kendra, Matthew, Amy [British], Brian [British], Olivia [Australian]) (default "Joanna")

Optional environmental variables:

    export AWS_SHARED_CREDENTIALS_PROFILE=default
    export AWS_SNS_TOPIC_ARN=my_topic_arn

```
<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# polly

```go
import "github.com/andrewrech/polly"
```

## Index

- [func TTSformat(s string) string](<#func-ttsformat>)
- [func download(url string)](<#func-download>)
- [func getDiff(s, sOut string)](<#func-getdiff>)
- [func getFnPrefix(fileName *string) (ret *string)](<#func-getfnprefix>)
- [func getInput(i polly.StartSpeechSynthesisTaskInput, vars envVars) (c *polly.Polly, output *polly.StartSpeechSynthesisTaskOutput)](<#func-getinput>)
- [func getTaskStatus(c *polly.Polly, output *polly.StartSpeechSynthesisTaskOutput) (status string)](<#func-gettaskstatus>)
- [func main()](<#func-main>)
- [func outputHandler(c *polly.Polly, output *polly.StartSpeechSynthesisTaskOutput)](<#func-outputhandler>)
- [func usage()](<#func-usage>)
- [type envVars](<#type-envvars>)
  - [func loadVars() (vars envVars, err error)](<#func-loadvars>)


## func [TTSformat](<https://github.com/andrewrech/polly/blob/main/polly.go#L265>)

```go
func TTSformat(s string) string
```

TTSforrmat formats a string for text\-to\-speech by removing most parantheticals and references\.

## func [download](<https://github.com/andrewrech/polly/blob/main/polly.go#L215>)

```go
func download(url string)
```

download downloads a url to a local file\.

## func [getDiff](<https://github.com/andrewrech/polly/blob/main/polly.go#L114>)

```go
func getDiff(s, sOut string)
```

getDiff generates a text diff after text substitutions for better listening comprehension\.

## func [getFnPrefix](<https://github.com/andrewrech/polly/blob/main/polly.go#L168>)

```go
func getFnPrefix(fileName *string) (ret *string)
```

getFnPrefix returns an AWS Polly audio file prefix based on the input text filename\.

## func [getInput](<https://github.com/andrewrech/polly/blob/main/polly.go#L143>)

```go
func getInput(i polly.StartSpeechSynthesisTaskInput, vars envVars) (c *polly.Polly, output *polly.StartSpeechSynthesisTaskOutput)
```

getInput generates an AWS Polly task input\.

## func [getTaskStatus](<https://github.com/andrewrech/polly/blob/main/polly.go#L201>)

```go
func getTaskStatus(c *polly.Polly, output *polly.StartSpeechSynthesisTaskOutput) (status string)
```

getTaskStatus retrieves the status of the AWS Polly synthesis task\.

## func [main](<https://github.com/andrewrech/polly/blob/main/polly.go#L41>)

```go
func main()
```

## func [outputHandler](<https://github.com/andrewrech/polly/blob/main/polly.go#L179>)

```go
func outputHandler(c *polly.Polly, output *polly.StartSpeechSynthesisTaskOutput)
```

outputHandler waits for AWS Polly task completion and handles output\, generating a download link\.

## func [usage](<https://github.com/andrewrech/polly/blob/main/polly.go#L25>)

```go
func usage()
```

usage prints package usage\.

## type [envVars](<https://github.com/andrewrech/polly/blob/main/polly.go#L243-L246>)

```go
type envVars struct {
    snsTopic          string
    credentialProfile string
}
```

### func [loadVars](<https://github.com/andrewrech/polly/blob/main/polly.go#L249>)

```go
func loadVars() (vars envVars, err error)
```

loadVars loads required environmental variables\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
